range = c(0.3, 1),
guide = guide_legend(
direction = "horizontal",  # Horizontal layout for GDP
title.position = "top",
label.position = "bottom",
keywidth = unit(1.5, "cm"),  # Wider for gradient
keyheight = unit(0.3, "cm")   # Thinner
)
) +
labs(title = "Global Trade Bloc Membership (2022)") +
theme_minimal() +
theme(
legend.position = "right",
legend.box = "vertical",  # Stack legends vertically
legend.spacing.y = unit(0.2, "cm"),  # Reduce spacing
legend.text = element_text(size = 7),  # Smaller text
panel.grid = element_blank(),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5)  # Compact title
) +
guides(
fill = guide_legend(order = 1),  # Trade bloc first
alpha = guide_legend(order = 2)   # GDP second
)
library(dplyr)
library(data.table)
library(tidyr)
library(ggplot2)
trade_data <- fread("trade_final.csv")
bloc_membership <- fread("bloc_membership.csv")
# Precise HS code to critical sector mapping
critical_sector_map <- data.frame(
product_section = sprintf("%02d", 1:99),
critical_sector = c(
rep("Food & Agriculture", 24),      # HS 17-24 (Sugars, cocoa, food preparations)
rep("Manufacturing Inputs", 2),    # HS 25-26 (Salt, earths, ores)
rep("Energy", 1),                  # HS 27 (Mineral fuels, oils)
rep("Manufacturing Inputs", 2),    # HS 28-29 (Inorganic chemicals)
rep("Pharmaceuticals", 1),         # HS 30 (Pharmaceuticals)
rep("Manufacturing Inputs", 10),   # HS 31-40 (Fertilizers, tanning, dyes, etc.)
rep("Electronics/Machinery", 9),   # HS 41-49 (Leather, wood, pulp, textiles)
rep("Textiles", 10),               # HS 50-59 (Textiles and clothing)
rep("Manufacturing Inputs", 8),    # HS 60-67 (Footwear, headgear, etc.)
rep("Metals", 16),                 # HS 68-83 (Stone, glass, metals)
rep("Electronics/Machinery", 2),   # HS 84-85 (Machinery/electrical)
rep("Transport", 4),               # HS 86-89 (Vehicles/transport)
rep("Other", 10)                   # HS 90-99 (Instruments, arms, art, etc.)
)
)
# Manual adjustments for specific cases
critical_sector_map <- critical_sector_map %>%
mutate(critical_sector = case_when(
product_section == "16" ~ "Food & Agriculture",  # Preparations of meat/fish
product_section == "27" ~ "Energy",             # Mineral fuels/oils
product_section == "30" ~ "Pharmaceuticals",    # Pharmaceuticals
product_section %in% sprintf("%02d", 84:85) ~ "Electronics/Machinery",
product_section %in% sprintf("%02d", 86:89) ~ "Transport",
TRUE ~ critical_sector
))
# Add product_section and merge critical sector info
trade_data$product_section <- substr(sprintf("%02d", trade_data$product), 1, 2)
trade_data <- trade_data %>%
left_join(critical_sector_map, by = "product_section")
# Remove existing imp_bloc if it exists
if("imp_bloc" %in% names(trade_data)) {
trade_data <- trade_data %>% select(-imp_bloc)
}
# Merge bloc membership and handle non-bloc countries
trade_data <- trade_data %>%
left_join(bloc_membership, by = c("imp" = "iso3")) %>%
rename(imp_bloc = bloc) %>%
mutate(imp_bloc = ifelse(is.na(imp_bloc), "non-bloc", imp_bloc))
# Filter for critical sectors only
critical_sectors <- c("Energy", "Food & Agriculture", "Pharmaceuticals",
"Electronics/Machinery", "Transport",
"Manufacturing Inputs", "Metals", "Textiles")
trade_data_critical <- trade_data %>%
filter(critical_sector %in% critical_sectors)
# Aggregate imports data
imports <- trade_data_critical %>%
filter(trade_type %in% c("intra", "extra")) %>%
group_by(imp, imp_bloc, critical_sector, trade_type) %>%
summarise(import_value = sum(value, na.rm = TRUE), .groups = "drop")
# Pivot to wide format
imports_wide <- imports %>%
pivot_wider(
names_from = trade_type,
values_from = import_value,
values_fill = 0
) %>%
mutate(
total_imports = intra + extra,
dependency = case_when(
imp_bloc == "non-bloc" ~ 100,
TRUE ~ 100 * extra / total_imports
)
)
View(imports_wide)
# Filter clean data for ANOVA (excluding non-bloc)
anova_data <- imports_wide %>%
filter(!is.na(dependency), imp_bloc != "non-bloc")
# one-way ANOVA (bloc)
anova_bloc <- aov(dependency ~ imp_bloc, data = anova_data)
summary(anova_bloc)
# Tukey HSD test
tukey_result <- TukeyHSD(anova_bloc)
print(tukey_result)
# one-way ANOVA (sector)
anova_sect <- aov(dependency ~ critical_sector, data = anova_data)
summary(anova_sect)
# Tukey HSD test
tukey_result <- TukeyHSD(anova_sect)
print(tukey_result)
# dependency by bloc
ggplot(anova_data, aes(x = reorder(imp_bloc, dependency),
y = dependency,
color = imp_bloc)) +
geom_boxplot() +
labs(title = "Extra-Bloc Dependency by Trade Bloc",
x = "Trade Bloc",
y = "% Crit. Imports from Non-Members") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Heatmap of mean dependencies
dependency_means <- anova_data %>%
group_by(imp_bloc, critical_sector) %>%
summarise(mean_dependency = mean(dependency, na.rm = TRUE))
ggplot(dependency_means, aes(x = imp_bloc, y = critical_sector, fill = mean_dependency)) +
geom_tile(color = "white") +
geom_text(aes(label = round(mean_dependency, 1)), color = "white", size = 3.5) +
labs(title = "% Mean Extra-Bloc Dependency",
x = "Trade Bloc",
y = "Critical Sector",
fill = "% Mean") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(data.table)
trade_data <- fread("trade_final.csv")
# Intra-bloc exports
intra_exports <- trade_data %>%
filter(trade_type == "intra", !is.na(exp_bloc)) %>%
group_by(exp) %>%
summarise(intra_exports = sum(value, na.rm = TRUE))
# Intra-bloc imports
intra_imports <- trade_data %>%
filter(trade_type == "intra", !is.na(imp_bloc)) %>%
group_by(imp) %>%
summarise(intra_imports = sum(value, na.rm = TRUE))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE)) %>%
mutate(exp_gdp = ifelse(is.infinite(exp_gdp), NA, exp_gdp))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE)) %>%
mutate(exp_gdp = ifelse(is.infinite(exp_gdp), NA, exp_gdp))
# Merge all
trade_balance_df <- intra_exports %>%
full_join(intra_imports, by = c("exp" = "imp")) %>%
left_join(gdp_latest, by = "exp") %>%
mutate(
intra_exports = ifelse(is.na(intra_exports), 0, intra_exports),
intra_imports = ifelse(is.na(intra_imports), 0, intra_imports),
intra_trade_balance = intra_exports - intra_imports
)
# Pearson
cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "pearson", use = "complete.obs")
# Spearman
cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, use = "complete.obs")
print(correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", correlation, ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance)) +
geom_smooth(method = "lm", se = FALSE) +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance))) +
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance))) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
ggplot(trade_balance_df, aes(x = log(exp_gdp), y = log(intra_trade_balance))) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
# Pearson
correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "pearson", use = "complete.obs")
# Pearson
correlation <- cor(log(trade_balance_df$exp_gdp), log(trade_balance_df$intra_trade_balance), method = "pearson", use = "complete.obs")
# Pearson
correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "pearson", use = "complete.obs")
# Spearman
cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
ggplot(trade_balance_df, aes(x = log(exp_gdp), y = log(intra_trade_balance))) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
ggplot(trade_balance_df, aes(x = log(exp_gdp), y = log(intra_trade_balance))) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
# Spearman
correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 2), ")"))
print(spearman_correlation)
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
labs(
x = "Exporter GDP (USD)",
y = "Intra-bloc Trade Balance (USD)",
title = "GDP vs Intra-bloc Trade Balance (r = -0.24)"
)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"))
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "Intra-bloc Trade Balance (USD)")
library(data.table)
trade_data <- fread("trade_final.csv")
# extra-bloc exports
extra_exports <- trade_data %>%
filter(trade_type == "extra", !is.na(exp_bloc)) %>%
group_by(exp) %>%
summarise(extra_exports = sum(value, na.rm = TRUE))
# extra-bloc imports
extra_imports <- trade_data %>%
filter(trade_type == "extra", !is.na(imp_bloc)) %>%
group_by(imp) %>%
summarise(extra_imports = sum(value, na.rm = TRUE))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE)) %>%
mutate(exp_gdp = ifelse(is.infinite(exp_gdp), NA, exp_gdp))
# Merge all
trade_balance_df <- extra_exports %>%
full_join(extra_imports, by = c("exp" = "imp")) %>%
left_join(gdp_latest, by = "exp") %>%
mutate(
extra_exports = ifelse(is.na(extra_exports), 0, extra_exports),
extra_imports = ifelse(is.na(extra_imports), 0, extra_imports),
extra_trade_balance = extra_exports - extra_imports
)
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$extra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = extra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs extra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "extra-bloc Trade Balance (USD)")
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "Intra-bloc Trade Balance (USD)")
library(data.table)
trade_data <- fread("trade_final.csv")
# Intra-bloc exports
intra_exports <- trade_data %>%
filter(trade_type == "intra", !is.na(exp_bloc)) %>%
group_by(exp) %>%
summarise(intra_exports = sum(value, na.rm = TRUE))
# Intra-bloc imports
intra_imports <- trade_data %>%
filter(trade_type == "intra", !is.na(imp_bloc)) %>%
group_by(imp) %>%
summarise(intra_imports = sum(value, na.rm = TRUE))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE)) %>%
mutate(exp_gdp = ifelse(is.infinite(exp_gdp), NA, exp_gdp))
# Merge all
trade_balance_df <- intra_exports %>%
full_join(intra_imports, by = c("exp" = "imp")) %>%
left_join(gdp_latest, by = "exp") %>%
mutate(
intra_exports = ifelse(is.na(intra_exports), 0, intra_exports),
intra_imports = ifelse(is.na(intra_imports), 0, intra_imports),
intra_trade_balance = intra_exports - intra_imports
)
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "Intra-bloc Trade Balance (USD)")
View(trade_balance_df)
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance)) +
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance)) +
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance))) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "Intra-bloc Trade Balance (USD)")
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance))) +
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = log(intra_trade_balance))) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs Intra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "Intra-bloc Trade Balance (USD)")
View(trade_balance)
View(trade_balance)
View(trade_balance_df)
library(data.table)
trade_data <- fread("trade_final.csv")
# extra-bloc exports
extra_exports <- trade_data %>%
filter(trade_type == "extra", !is.na(exp_bloc)) %>%
group_by(exp) %>%
summarise(extra_exports = sum(value, na.rm = TRUE))
# extra-bloc imports
extra_imports <- trade_data %>%
filter(trade_type == "extra", !is.na(imp_bloc)) %>%
group_by(imp) %>%
summarise(extra_imports = sum(value, na.rm = TRUE))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE)) %>%
mutate(exp_gdp = ifelse(is.infinite(exp_gdp), NA, exp_gdp))
# Merge all
trade_balance_df <- extra_exports %>%
full_join(extra_imports, by = c("exp" = "imp")) %>%
left_join(gdp_latest, by = "exp") %>%
mutate(
extra_exports = ifelse(is.na(extra_exports), 0, extra_exports),
extra_imports = ifelse(is.na(extra_imports), 0, extra_imports),
extra_trade_balance = extra_exports - extra_imports
)
View(trade_balance_df)
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$extra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = extra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs extra-bloc Trade Balance (r =", round(correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "extra-bloc Trade Balance (USD)")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = extra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs extra-bloc Trade Balance (r =", round(spearman_correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "extra-bloc Trade Balance (USD)")
library(data.table)
trade_data <- fread("trade_final.csv")
# intra-bloc exports
intra_exports <- trade_data %>%
filter(trade_type == "intra", !is.na(exp_bloc)) %>%
group_by(exp) %>%
summarise(intra_exports = sum(value, na.rm = TRUE))
# intra-bloc imports
intra_imports <- trade_data %>%
filter(trade_type == "intra", !is.na(imp_bloc)) %>%
group_by(imp) %>%
summarise(intra_imports = sum(value, na.rm = TRUE))
# GDP per country
gdp_latest <- trade_data %>%
group_by(exp) %>%
summarise(exp_gdp = max(exp_gdp, na.rm = TRUE)) %>%
mutate(exp_gdp = ifelse(is.infinite(exp_gdp), NA, exp_gdp))
# Merge all
trade_balance_df <- intra_exports %>%
full_join(intra_imports, by = c("exp" = "imp")) %>%
left_join(gdp_latest, by = "exp") %>%
mutate(
intra_exports = ifelse(is.na(intra_exports), 0, intra_exports),
intra_imports = ifelse(is.na(intra_imports), 0, intra_imports),
intra_trade_balance = intra_exports - intra_imports
)
View(trade_balance_df)
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs intra-bloc Trade Balance (r =", round(spearman_correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "intra-bloc Trade Balance (USD)")
x = "Exporter GDP (USD)",
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs intra-bloc Trade Balance (r =", round(spearman_correlation, 3), ") (p =", round(spearman_correlation$p.value, 3),")"),
x = "Exporter GDP (USD)",
y = "intra-bloc Trade Balance (USD)"
)
print(spearman_correlation$p.value)
# Spearman
spearman_correlation <- cor.test(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation$p.value)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs intra-bloc Trade Balance (r =", round(spearman_correlation, 3), ") (p =", round(spearman_correlation$p.value, 3),")"),
x = "Exporter GDP (USD)",
y = "intra-bloc Trade Balance (USD)"
)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs intra-bloc Trade Balance (r =", round(spearman_correlation$r.value, 3), ") (p =", round(spearman_correlation$p.value, 3),")"),
x = "Exporter GDP (USD)",
y = "intra-bloc Trade Balance (USD)"
)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs intra-bloc Trade Balance (r =", round(spearman_correlation, 3), ") (p =", round(spearman_correlation$p.value, 3),")"),
x = "Exporter GDP (USD)",
y = "intra-bloc Trade Balance (USD)"
)
ggplot(trade_balance_df, aes(x = exp_gdp, y = intra_trade_balance)) +
geom_point() +
geom_smooth(method = "lm") +
scale_x_log10() +
labs(
title = paste("GDP vs intra-bloc Trade Balance (r =", round(spearman_correlation, 3), ")"),
x = "Exporter GDP (USD)",
y = "intra-bloc Trade Balance (USD)")
# Spearman
spearman_correlation <- cor(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation)
# Spearman
spearman_correlation <- cor.test(trade_balance_df$exp_gdp, trade_balance_df$intra_trade_balance, method = "spearman", use = "complete.obs")
print(spearman_correlation$p.value)
